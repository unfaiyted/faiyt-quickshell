import QtQuick
import Quickshell.Io
import "../../../services" as Services

Item {
    id: emojiResults
    visible: false

    property string typeName: "emoji"
    property int maxResults: 48

    // Comprehensive emoji database
    property var emojis: [
        // Smileys & Emotion
        { emoji: "ðŸ˜€", name: "grinning face", keywords: ["happy", "smile", "joy"] },
        { emoji: "ðŸ˜ƒ", name: "grinning face with big eyes", keywords: ["happy", "smile", "joy"] },
        { emoji: "ðŸ˜„", name: "grinning face with smiling eyes", keywords: ["happy", "smile", "joy", "laugh"] },
        { emoji: "ðŸ˜", name: "beaming face with smiling eyes", keywords: ["happy", "smile", "grin"] },
        { emoji: "ðŸ˜†", name: "grinning squinting face", keywords: ["happy", "laugh", "satisfied"] },
        { emoji: "ðŸ˜…", name: "grinning face with sweat", keywords: ["hot", "happy", "laugh", "relief"] },
        { emoji: "ðŸ¤£", name: "rolling on the floor laughing", keywords: ["laugh", "lol", "rofl", "funny"] },
        { emoji: "ðŸ˜‚", name: "face with tears of joy", keywords: ["laugh", "cry", "happy", "lol"] },
        { emoji: "ðŸ™‚", name: "slightly smiling face", keywords: ["smile", "happy"] },
        { emoji: "ðŸ™ƒ", name: "upside-down face", keywords: ["silly", "sarcasm"] },
        { emoji: "ðŸ˜‰", name: "winking face", keywords: ["wink", "flirt"] },
        { emoji: "ðŸ˜Š", name: "smiling face with smiling eyes", keywords: ["happy", "blush", "smile"] },
        { emoji: "ðŸ˜‡", name: "smiling face with halo", keywords: ["angel", "innocent"] },
        { emoji: "ðŸ¥°", name: "smiling face with hearts", keywords: ["love", "adore", "crush"] },
        { emoji: "ðŸ˜", name: "smiling face with heart-eyes", keywords: ["love", "crush", "adore"] },
        { emoji: "ðŸ¤©", name: "star-struck", keywords: ["wow", "excited", "amazing"] },
        { emoji: "ðŸ˜˜", name: "face blowing a kiss", keywords: ["kiss", "love", "flirt"] },
        { emoji: "ðŸ˜—", name: "kissing face", keywords: ["kiss", "love"] },
        { emoji: "ðŸ˜š", name: "kissing face with closed eyes", keywords: ["kiss", "love"] },
        { emoji: "ðŸ˜™", name: "kissing face with smiling eyes", keywords: ["kiss", "love"] },
        { emoji: "ðŸ¥²", name: "smiling face with tear", keywords: ["happy", "sad", "grateful"] },
        { emoji: "ðŸ˜‹", name: "face savoring food", keywords: ["yummy", "delicious", "tongue"] },
        { emoji: "ðŸ˜›", name: "face with tongue", keywords: ["tongue", "playful", "silly"] },
        { emoji: "ðŸ˜œ", name: "winking face with tongue", keywords: ["tongue", "wink", "silly", "crazy"] },
        { emoji: "ðŸ¤ª", name: "zany face", keywords: ["crazy", "silly", "wild"] },
        { emoji: "ðŸ˜", name: "squinting face with tongue", keywords: ["tongue", "playful"] },
        { emoji: "ðŸ¤‘", name: "money-mouth face", keywords: ["money", "rich", "dollar"] },
        { emoji: "ðŸ¤—", name: "hugging face", keywords: ["hug", "love", "care"] },
        { emoji: "ðŸ¤­", name: "face with hand over mouth", keywords: ["oops", "quiet", "shy"] },
        { emoji: "ðŸ¤«", name: "shushing face", keywords: ["quiet", "secret", "shh"] },
        { emoji: "ðŸ¤”", name: "thinking face", keywords: ["think", "hmm", "consider"] },
        { emoji: "ðŸ¤", name: "zipper-mouth face", keywords: ["secret", "quiet", "zip"] },
        { emoji: "ðŸ¤¨", name: "face with raised eyebrow", keywords: ["suspicious", "skeptical"] },
        { emoji: "ðŸ˜", name: "neutral face", keywords: ["meh", "blank", "indifferent"] },
        { emoji: "ðŸ˜‘", name: "expressionless face", keywords: ["blank", "annoyed"] },
        { emoji: "ðŸ˜¶", name: "face without mouth", keywords: ["silent", "speechless"] },
        { emoji: "ðŸ˜", name: "smirking face", keywords: ["smirk", "flirt", "smug"] },
        { emoji: "ðŸ˜’", name: "unamused face", keywords: ["meh", "annoyed", "bored"] },
        { emoji: "ðŸ™„", name: "face with rolling eyes", keywords: ["eyeroll", "annoyed", "whatever"] },
        { emoji: "ðŸ˜¬", name: "grimacing face", keywords: ["awkward", "nervous"] },
        { emoji: "ðŸ¤¥", name: "lying face", keywords: ["lie", "pinocchio"] },
        { emoji: "ðŸ˜Œ", name: "relieved face", keywords: ["relief", "calm", "peaceful"] },
        { emoji: "ðŸ˜”", name: "pensive face", keywords: ["sad", "thoughtful"] },
        { emoji: "ðŸ˜ª", name: "sleepy face", keywords: ["tired", "sleep"] },
        { emoji: "ðŸ¤¤", name: "drooling face", keywords: ["drool", "yummy", "hungry"] },
        { emoji: "ðŸ˜´", name: "sleeping face", keywords: ["sleep", "zzz", "tired"] },
        { emoji: "ðŸ˜·", name: "face with medical mask", keywords: ["sick", "mask", "covid"] },
        { emoji: "ðŸ¤’", name: "face with thermometer", keywords: ["sick", "fever", "ill"] },
        { emoji: "ðŸ¤•", name: "face with head-bandage", keywords: ["hurt", "injured"] },
        { emoji: "ðŸ¤¢", name: "nauseated face", keywords: ["sick", "gross", "vomit"] },
        { emoji: "ðŸ¤®", name: "face vomiting", keywords: ["sick", "vomit", "gross"] },
        { emoji: "ðŸ¤§", name: "sneezing face", keywords: ["sneeze", "sick", "cold"] },
        { emoji: "ðŸ¥µ", name: "hot face", keywords: ["hot", "heat", "sweating"] },
        { emoji: "ðŸ¥¶", name: "cold face", keywords: ["cold", "freezing", "ice"] },
        { emoji: "ðŸ¥´", name: "woozy face", keywords: ["drunk", "dizzy", "tipsy"] },
        { emoji: "ðŸ˜µ", name: "dizzy face", keywords: ["dizzy", "dead", "knocked out"] },
        { emoji: "ðŸ¤¯", name: "exploding head", keywords: ["mind blown", "shocked", "wow"] },
        { emoji: "ðŸ¤ ", name: "cowboy hat face", keywords: ["cowboy", "western", "yeehaw"] },
        { emoji: "ðŸ¥³", name: "partying face", keywords: ["party", "celebration", "birthday"] },
        { emoji: "ðŸ¥¸", name: "disguised face", keywords: ["disguise", "incognito"] },
        { emoji: "ðŸ˜Ž", name: "smiling face with sunglasses", keywords: ["cool", "sunglasses", "awesome"] },
        { emoji: "ðŸ¤“", name: "nerd face", keywords: ["nerd", "geek", "glasses"] },
        { emoji: "ðŸ§", name: "face with monocle", keywords: ["thinking", "curious", "monocle"] },
        { emoji: "ðŸ˜•", name: "confused face", keywords: ["confused", "unsure"] },
        { emoji: "ðŸ˜Ÿ", name: "worried face", keywords: ["worried", "concerned"] },
        { emoji: "ðŸ™", name: "slightly frowning face", keywords: ["sad", "frown"] },
        { emoji: "ðŸ˜®", name: "face with open mouth", keywords: ["surprised", "wow", "shock"] },
        { emoji: "ðŸ˜¯", name: "hushed face", keywords: ["surprised", "quiet"] },
        { emoji: "ðŸ˜²", name: "astonished face", keywords: ["shocked", "surprised", "wow"] },
        { emoji: "ðŸ˜³", name: "flushed face", keywords: ["embarrassed", "blush", "shy"] },
        { emoji: "ðŸ¥º", name: "pleading face", keywords: ["puppy eyes", "please", "beg"] },
        { emoji: "ðŸ˜¦", name: "frowning face with open mouth", keywords: ["surprised", "sad"] },
        { emoji: "ðŸ˜§", name: "anguished face", keywords: ["shocked", "sad"] },
        { emoji: "ðŸ˜¨", name: "fearful face", keywords: ["scared", "fear"] },
        { emoji: "ðŸ˜°", name: "anxious face with sweat", keywords: ["nervous", "anxious", "worried"] },
        { emoji: "ðŸ˜¥", name: "sad but relieved face", keywords: ["sad", "relief"] },
        { emoji: "ðŸ˜¢", name: "crying face", keywords: ["cry", "sad", "tear"] },
        { emoji: "ðŸ˜­", name: "loudly crying face", keywords: ["cry", "sob", "sad"] },
        { emoji: "ðŸ˜±", name: "face screaming in fear", keywords: ["scream", "scared", "horror"] },
        { emoji: "ðŸ˜–", name: "confounded face", keywords: ["confused", "frustrated"] },
        { emoji: "ðŸ˜£", name: "persevering face", keywords: ["struggling", "frustrated"] },
        { emoji: "ðŸ˜ž", name: "disappointed face", keywords: ["sad", "disappointed"] },
        { emoji: "ðŸ˜“", name: "downcast face with sweat", keywords: ["sad", "tired"] },
        { emoji: "ðŸ˜©", name: "weary face", keywords: ["tired", "frustrated"] },
        { emoji: "ðŸ˜«", name: "tired face", keywords: ["exhausted", "frustrated"] },
        { emoji: "ðŸ¥±", name: "yawning face", keywords: ["yawn", "tired", "bored"] },
        { emoji: "ðŸ˜¤", name: "face with steam from nose", keywords: ["angry", "frustrated", "triumph"] },
        { emoji: "ðŸ˜¡", name: "pouting face", keywords: ["angry", "mad", "rage"] },
        { emoji: "ðŸ˜ ", name: "angry face", keywords: ["angry", "mad"] },
        { emoji: "ðŸ¤¬", name: "face with symbols on mouth", keywords: ["swear", "curse", "angry"] },
        { emoji: "ðŸ˜ˆ", name: "smiling face with horns", keywords: ["devil", "evil", "mischief"] },
        { emoji: "ðŸ‘¿", name: "angry face with horns", keywords: ["devil", "angry", "evil"] },
        { emoji: "ðŸ’€", name: "skull", keywords: ["dead", "death", "skeleton"] },
        { emoji: "â˜ ï¸", name: "skull and crossbones", keywords: ["death", "danger", "poison"] },
        { emoji: "ðŸ’©", name: "pile of poo", keywords: ["poop", "shit", "crap"] },
        { emoji: "ðŸ¤¡", name: "clown face", keywords: ["clown", "circus", "silly"] },
        { emoji: "ðŸ‘¹", name: "ogre", keywords: ["monster", "demon", "scary"] },
        { emoji: "ðŸ‘º", name: "goblin", keywords: ["monster", "demon", "tengu"] },
        { emoji: "ðŸ‘»", name: "ghost", keywords: ["ghost", "halloween", "spooky", "boo"] },
        { emoji: "ðŸ‘½", name: "alien", keywords: ["alien", "ufo", "space", "extraterrestrial"] },
        { emoji: "ðŸ‘¾", name: "alien monster", keywords: ["alien", "game", "space invader"] },
        { emoji: "ðŸ¤–", name: "robot", keywords: ["robot", "machine", "bot", "ai"] },

        // Gestures & People
        { emoji: "ðŸ‘‹", name: "waving hand", keywords: ["wave", "hello", "goodbye", "hi", "bye"] },
        { emoji: "ðŸ¤š", name: "raised back of hand", keywords: ["hand", "stop"] },
        { emoji: "ðŸ–ï¸", name: "hand with fingers splayed", keywords: ["hand", "five", "high five"] },
        { emoji: "âœ‹", name: "raised hand", keywords: ["hand", "stop", "high five"] },
        { emoji: "ðŸ––", name: "vulcan salute", keywords: ["spock", "star trek", "live long"] },
        { emoji: "ðŸ‘Œ", name: "OK hand", keywords: ["ok", "perfect", "good"] },
        { emoji: "ðŸ¤Œ", name: "pinched fingers", keywords: ["italian", "chef kiss", "perfection"] },
        { emoji: "ðŸ¤", name: "pinching hand", keywords: ["small", "tiny", "little"] },
        { emoji: "âœŒï¸", name: "victory hand", keywords: ["peace", "victory", "two"] },
        { emoji: "ðŸ¤ž", name: "crossed fingers", keywords: ["luck", "hope", "fingers crossed"] },
        { emoji: "ðŸ¤Ÿ", name: "love-you gesture", keywords: ["love", "rock", "ily"] },
        { emoji: "ðŸ¤˜", name: "sign of the horns", keywords: ["rock", "metal", "devil"] },
        { emoji: "ðŸ¤™", name: "call me hand", keywords: ["call", "shaka", "hang loose"] },
        { emoji: "ðŸ‘ˆ", name: "backhand index pointing left", keywords: ["left", "point"] },
        { emoji: "ðŸ‘‰", name: "backhand index pointing right", keywords: ["right", "point"] },
        { emoji: "ðŸ‘†", name: "backhand index pointing up", keywords: ["up", "point"] },
        { emoji: "ðŸ‘‡", name: "backhand index pointing down", keywords: ["down", "point"] },
        { emoji: "â˜ï¸", name: "index pointing up", keywords: ["up", "point", "one"] },
        { emoji: "ðŸ‘", name: "thumbs up", keywords: ["like", "good", "yes", "approve", "ok"] },
        { emoji: "ðŸ‘Ž", name: "thumbs down", keywords: ["dislike", "bad", "no", "disapprove"] },
        { emoji: "âœŠ", name: "raised fist", keywords: ["fist", "power", "solidarity"] },
        { emoji: "ðŸ‘Š", name: "oncoming fist", keywords: ["punch", "fist bump"] },
        { emoji: "ðŸ¤›", name: "left-facing fist", keywords: ["fist bump", "punch"] },
        { emoji: "ðŸ¤œ", name: "right-facing fist", keywords: ["fist bump", "punch"] },
        { emoji: "ðŸ‘", name: "clapping hands", keywords: ["clap", "applause", "bravo"] },
        { emoji: "ðŸ™Œ", name: "raising hands", keywords: ["celebrate", "hooray", "yay"] },
        { emoji: "ðŸ‘", name: "open hands", keywords: ["hands", "jazz hands"] },
        { emoji: "ðŸ¤²", name: "palms up together", keywords: ["prayer", "please"] },
        { emoji: "ðŸ¤", name: "handshake", keywords: ["handshake", "deal", "agreement"] },
        { emoji: "ðŸ™", name: "folded hands", keywords: ["pray", "please", "thank you", "namaste"] },
        { emoji: "âœï¸", name: "writing hand", keywords: ["write", "pen"] },
        { emoji: "ðŸ’ª", name: "flexed biceps", keywords: ["strong", "muscle", "flex", "arm"] },

        // Hearts & Love
        { emoji: "â¤ï¸", name: "red heart", keywords: ["love", "heart", "red"] },
        { emoji: "ðŸ§¡", name: "orange heart", keywords: ["love", "heart", "orange"] },
        { emoji: "ðŸ’›", name: "yellow heart", keywords: ["love", "heart", "yellow", "friendship"] },
        { emoji: "ðŸ’š", name: "green heart", keywords: ["love", "heart", "green"] },
        { emoji: "ðŸ’™", name: "blue heart", keywords: ["love", "heart", "blue"] },
        { emoji: "ðŸ’œ", name: "purple heart", keywords: ["love", "heart", "purple"] },
        { emoji: "ðŸ–¤", name: "black heart", keywords: ["love", "heart", "black", "dark"] },
        { emoji: "ðŸ¤", name: "white heart", keywords: ["love", "heart", "white", "pure"] },
        { emoji: "ðŸ¤Ž", name: "brown heart", keywords: ["love", "heart", "brown"] },
        { emoji: "ðŸ’”", name: "broken heart", keywords: ["heartbreak", "sad", "broken"] },
        { emoji: "â¤ï¸â€ðŸ”¥", name: "heart on fire", keywords: ["love", "passion", "lust"] },
        { emoji: "â¤ï¸â€ðŸ©¹", name: "mending heart", keywords: ["healing", "recovery", "heart"] },
        { emoji: "ðŸ’•", name: "two hearts", keywords: ["love", "hearts"] },
        { emoji: "ðŸ’ž", name: "revolving hearts", keywords: ["love", "hearts"] },
        { emoji: "ðŸ’“", name: "beating heart", keywords: ["love", "heart", "heartbeat"] },
        { emoji: "ðŸ’—", name: "growing heart", keywords: ["love", "heart"] },
        { emoji: "ðŸ’–", name: "sparkling heart", keywords: ["love", "heart", "sparkle"] },
        { emoji: "ðŸ’˜", name: "heart with arrow", keywords: ["love", "cupid", "valentine"] },
        { emoji: "ðŸ’", name: "heart with ribbon", keywords: ["love", "gift", "valentine"] },
        { emoji: "ðŸ’Ÿ", name: "heart decoration", keywords: ["love", "heart"] },

        // Animals
        { emoji: "ðŸ¶", name: "dog face", keywords: ["dog", "puppy", "pet"] },
        { emoji: "ðŸ±", name: "cat face", keywords: ["cat", "kitty", "pet"] },
        { emoji: "ðŸ­", name: "mouse face", keywords: ["mouse", "rodent"] },
        { emoji: "ðŸ¹", name: "hamster", keywords: ["hamster", "pet", "rodent"] },
        { emoji: "ðŸ°", name: "rabbit face", keywords: ["rabbit", "bunny"] },
        { emoji: "ðŸ¦Š", name: "fox", keywords: ["fox", "animal"] },
        { emoji: "ðŸ»", name: "bear", keywords: ["bear", "animal"] },
        { emoji: "ðŸ¼", name: "panda", keywords: ["panda", "bear", "animal"] },
        { emoji: "ðŸ¨", name: "koala", keywords: ["koala", "animal", "australia"] },
        { emoji: "ðŸ¯", name: "tiger face", keywords: ["tiger", "animal"] },
        { emoji: "ðŸ¦", name: "lion", keywords: ["lion", "animal", "king"] },
        { emoji: "ðŸ®", name: "cow face", keywords: ["cow", "animal", "moo"] },
        { emoji: "ðŸ·", name: "pig face", keywords: ["pig", "animal", "oink"] },
        { emoji: "ðŸ¸", name: "frog", keywords: ["frog", "animal", "ribbit"] },
        { emoji: "ðŸµ", name: "monkey face", keywords: ["monkey", "animal"] },
        { emoji: "ðŸ™ˆ", name: "see-no-evil monkey", keywords: ["monkey", "hide", "shy"] },
        { emoji: "ðŸ™‰", name: "hear-no-evil monkey", keywords: ["monkey", "ignore"] },
        { emoji: "ðŸ™Š", name: "speak-no-evil monkey", keywords: ["monkey", "quiet", "secret"] },
        { emoji: "ðŸ”", name: "chicken", keywords: ["chicken", "bird", "animal"] },
        { emoji: "ðŸ§", name: "penguin", keywords: ["penguin", "bird", "animal"] },
        { emoji: "ðŸ¦", name: "bird", keywords: ["bird", "animal"] },
        { emoji: "ðŸ¤", name: "baby chick", keywords: ["chick", "bird", "baby"] },
        { emoji: "ðŸ¦†", name: "duck", keywords: ["duck", "bird", "quack"] },
        { emoji: "ðŸ¦…", name: "eagle", keywords: ["eagle", "bird", "america"] },
        { emoji: "ðŸ¦‰", name: "owl", keywords: ["owl", "bird", "night", "wise"] },
        { emoji: "ðŸ¦‡", name: "bat", keywords: ["bat", "animal", "night", "vampire"] },
        { emoji: "ðŸº", name: "wolf", keywords: ["wolf", "animal", "howl"] },
        { emoji: "ðŸ—", name: "boar", keywords: ["boar", "pig", "animal"] },
        { emoji: "ðŸ´", name: "horse face", keywords: ["horse", "animal"] },
        { emoji: "ðŸ¦„", name: "unicorn", keywords: ["unicorn", "magic", "fantasy"] },
        { emoji: "ðŸ", name: "honeybee", keywords: ["bee", "insect", "honey"] },
        { emoji: "ðŸ›", name: "bug", keywords: ["bug", "insect"] },
        { emoji: "ðŸ¦‹", name: "butterfly", keywords: ["butterfly", "insect", "pretty"] },
        { emoji: "ðŸŒ", name: "snail", keywords: ["snail", "slow"] },
        { emoji: "ðŸ™", name: "octopus", keywords: ["octopus", "sea", "ocean"] },
        { emoji: "ðŸ¦‘", name: "squid", keywords: ["squid", "sea", "ocean"] },
        { emoji: "ðŸ¦", name: "shrimp", keywords: ["shrimp", "seafood"] },
        { emoji: "ðŸ¦ž", name: "lobster", keywords: ["lobster", "seafood"] },
        { emoji: "ðŸ¦€", name: "crab", keywords: ["crab", "seafood", "cancer"] },
        { emoji: "ðŸ ", name: "tropical fish", keywords: ["fish", "sea", "ocean"] },
        { emoji: "ðŸŸ", name: "fish", keywords: ["fish", "sea", "ocean"] },
        { emoji: "ðŸ¬", name: "dolphin", keywords: ["dolphin", "sea", "ocean"] },
        { emoji: "ðŸ³", name: "spouting whale", keywords: ["whale", "sea", "ocean"] },
        { emoji: "ðŸ¦ˆ", name: "shark", keywords: ["shark", "sea", "ocean", "jaws"] },
        { emoji: "ðŸŠ", name: "crocodile", keywords: ["crocodile", "alligator", "reptile"] },
        { emoji: "ðŸ¢", name: "turtle", keywords: ["turtle", "slow", "reptile"] },
        { emoji: "ðŸ¦Ž", name: "lizard", keywords: ["lizard", "reptile"] },
        { emoji: "ðŸ", name: "snake", keywords: ["snake", "reptile"] },
        { emoji: "ðŸ¦–", name: "T-Rex", keywords: ["dinosaur", "trex", "jurassic"] },
        { emoji: "ðŸ¦•", name: "sauropod", keywords: ["dinosaur", "jurassic"] },

        // Food & Drink
        { emoji: "ðŸŽ", name: "red apple", keywords: ["apple", "fruit", "red"] },
        { emoji: "ðŸ", name: "pear", keywords: ["pear", "fruit"] },
        { emoji: "ðŸŠ", name: "tangerine", keywords: ["orange", "fruit", "tangerine"] },
        { emoji: "ðŸ‹", name: "lemon", keywords: ["lemon", "fruit", "yellow", "sour"] },
        { emoji: "ðŸŒ", name: "banana", keywords: ["banana", "fruit", "yellow"] },
        { emoji: "ðŸ‰", name: "watermelon", keywords: ["watermelon", "fruit", "summer"] },
        { emoji: "ðŸ‡", name: "grapes", keywords: ["grapes", "fruit", "wine"] },
        { emoji: "ðŸ“", name: "strawberry", keywords: ["strawberry", "fruit", "berry"] },
        { emoji: "ðŸ«", name: "blueberries", keywords: ["blueberry", "fruit", "berry"] },
        { emoji: "ðŸ’", name: "cherries", keywords: ["cherry", "fruit"] },
        { emoji: "ðŸ‘", name: "peach", keywords: ["peach", "fruit", "butt"] },
        { emoji: "ðŸ¥­", name: "mango", keywords: ["mango", "fruit", "tropical"] },
        { emoji: "ðŸ", name: "pineapple", keywords: ["pineapple", "fruit", "tropical"] },
        { emoji: "ðŸ¥¥", name: "coconut", keywords: ["coconut", "tropical"] },
        { emoji: "ðŸ¥", name: "kiwi fruit", keywords: ["kiwi", "fruit"] },
        { emoji: "ðŸ…", name: "tomato", keywords: ["tomato", "vegetable", "red"] },
        { emoji: "ðŸ¥‘", name: "avocado", keywords: ["avocado", "guacamole"] },
        { emoji: "ðŸ¥¦", name: "broccoli", keywords: ["broccoli", "vegetable", "green"] },
        { emoji: "ðŸ¥’", name: "cucumber", keywords: ["cucumber", "vegetable"] },
        { emoji: "ðŸŒ¶ï¸", name: "hot pepper", keywords: ["pepper", "spicy", "hot", "chili"] },
        { emoji: "ðŸŒ½", name: "ear of corn", keywords: ["corn", "vegetable"] },
        { emoji: "ðŸ¥•", name: "carrot", keywords: ["carrot", "vegetable", "orange"] },
        { emoji: "ðŸ§„", name: "garlic", keywords: ["garlic", "vegetable"] },
        { emoji: "ðŸ§…", name: "onion", keywords: ["onion", "vegetable"] },
        { emoji: "ðŸ¥”", name: "potato", keywords: ["potato", "vegetable"] },
        { emoji: "ðŸž", name: "bread", keywords: ["bread", "food", "toast"] },
        { emoji: "ðŸ¥", name: "croissant", keywords: ["croissant", "bread", "french"] },
        { emoji: "ðŸ¥–", name: "baguette bread", keywords: ["baguette", "bread", "french"] },
        { emoji: "ðŸ§€", name: "cheese wedge", keywords: ["cheese", "food"] },
        { emoji: "ðŸ¥š", name: "egg", keywords: ["egg", "food", "breakfast"] },
        { emoji: "ðŸ³", name: "cooking", keywords: ["egg", "frying", "breakfast", "cooking"] },
        { emoji: "ðŸ¥“", name: "bacon", keywords: ["bacon", "meat", "breakfast"] },
        { emoji: "ðŸ¥©", name: "cut of meat", keywords: ["steak", "meat", "beef"] },
        { emoji: "ðŸ—", name: "poultry leg", keywords: ["chicken", "meat", "drumstick"] },
        { emoji: "ðŸ–", name: "meat on bone", keywords: ["meat", "bone"] },
        { emoji: "ðŸŒ­", name: "hot dog", keywords: ["hotdog", "sausage", "food"] },
        { emoji: "ðŸ”", name: "hamburger", keywords: ["burger", "food", "fast food"] },
        { emoji: "ðŸŸ", name: "french fries", keywords: ["fries", "food", "fast food"] },
        { emoji: "ðŸ•", name: "pizza", keywords: ["pizza", "food", "italian"] },
        { emoji: "ðŸ¥ª", name: "sandwich", keywords: ["sandwich", "food", "lunch"] },
        { emoji: "ðŸŒ®", name: "taco", keywords: ["taco", "mexican", "food"] },
        { emoji: "ðŸŒ¯", name: "burrito", keywords: ["burrito", "mexican", "food"] },
        { emoji: "ðŸ¥—", name: "green salad", keywords: ["salad", "healthy", "food"] },
        { emoji: "ðŸœ", name: "steaming bowl", keywords: ["noodles", "ramen", "soup", "pho"] },
        { emoji: "ðŸ", name: "spaghetti", keywords: ["pasta", "italian", "food"] },
        { emoji: "ðŸ£", name: "sushi", keywords: ["sushi", "japanese", "food"] },
        { emoji: "ðŸ±", name: "bento box", keywords: ["bento", "japanese", "food", "lunch"] },
        { emoji: "ðŸ›", name: "curry rice", keywords: ["curry", "food", "indian"] },
        { emoji: "ðŸš", name: "cooked rice", keywords: ["rice", "food", "asian"] },
        { emoji: "ðŸ¿", name: "popcorn", keywords: ["popcorn", "movie", "snack"] },
        { emoji: "ðŸ©", name: "doughnut", keywords: ["donut", "dessert", "sweet"] },
        { emoji: "ðŸª", name: "cookie", keywords: ["cookie", "dessert", "sweet"] },
        { emoji: "ðŸŽ‚", name: "birthday cake", keywords: ["cake", "birthday", "dessert"] },
        { emoji: "ðŸ°", name: "shortcake", keywords: ["cake", "dessert", "sweet"] },
        { emoji: "ðŸ§", name: "cupcake", keywords: ["cupcake", "dessert", "sweet"] },
        { emoji: "ðŸ¥§", name: "pie", keywords: ["pie", "dessert"] },
        { emoji: "ðŸ«", name: "chocolate bar", keywords: ["chocolate", "candy", "sweet"] },
        { emoji: "ðŸ¬", name: "candy", keywords: ["candy", "sweet"] },
        { emoji: "ðŸ­", name: "lollipop", keywords: ["lollipop", "candy", "sweet"] },
        { emoji: "ðŸ¦", name: "soft ice cream", keywords: ["ice cream", "dessert", "sweet"] },
        { emoji: "ðŸ§", name: "shaved ice", keywords: ["ice", "dessert"] },
        { emoji: "ðŸ¨", name: "ice cream", keywords: ["ice cream", "dessert", "sweet"] },
        { emoji: "â˜•", name: "hot beverage", keywords: ["coffee", "tea", "drink", "hot"] },
        { emoji: "ðŸµ", name: "teacup without handle", keywords: ["tea", "drink", "green tea"] },
        { emoji: "ðŸ§ƒ", name: "beverage box", keywords: ["juice", "drink", "box"] },
        { emoji: "ðŸ¥¤", name: "cup with straw", keywords: ["soda", "drink", "cup"] },
        { emoji: "ðŸ§‹", name: "bubble tea", keywords: ["boba", "bubble tea", "drink"] },
        { emoji: "ðŸº", name: "beer mug", keywords: ["beer", "drink", "alcohol"] },
        { emoji: "ðŸ»", name: "clinking beer mugs", keywords: ["beer", "cheers", "drink"] },
        { emoji: "ðŸ·", name: "wine glass", keywords: ["wine", "drink", "alcohol"] },
        { emoji: "ðŸ¥‚", name: "clinking glasses", keywords: ["champagne", "cheers", "celebration"] },
        { emoji: "ðŸ¸", name: "cocktail glass", keywords: ["cocktail", "drink", "martini"] },
        { emoji: "ðŸ¹", name: "tropical drink", keywords: ["cocktail", "drink", "tropical"] },
        { emoji: "ðŸ§Š", name: "ice", keywords: ["ice", "cold", "cube"] },

        // Activities & Sports
        { emoji: "âš½", name: "soccer ball", keywords: ["soccer", "football", "sport"] },
        { emoji: "ðŸ€", name: "basketball", keywords: ["basketball", "sport"] },
        { emoji: "ðŸˆ", name: "american football", keywords: ["football", "nfl", "sport"] },
        { emoji: "âš¾", name: "baseball", keywords: ["baseball", "sport"] },
        { emoji: "ðŸ¥Ž", name: "softball", keywords: ["softball", "sport"] },
        { emoji: "ðŸŽ¾", name: "tennis", keywords: ["tennis", "sport"] },
        { emoji: "ðŸ", name: "volleyball", keywords: ["volleyball", "sport"] },
        { emoji: "ðŸ‰", name: "rugby football", keywords: ["rugby", "sport"] },
        { emoji: "ðŸŽ±", name: "pool 8 ball", keywords: ["billiards", "pool", "8ball"] },
        { emoji: "ðŸ“", name: "ping pong", keywords: ["ping pong", "table tennis", "sport"] },
        { emoji: "ðŸ¸", name: "badminton", keywords: ["badminton", "sport"] },
        { emoji: "ðŸ’", name: "ice hockey", keywords: ["hockey", "sport", "ice"] },
        { emoji: "ðŸ‘", name: "field hockey", keywords: ["hockey", "sport"] },
        { emoji: "ðŸ¥…", name: "goal net", keywords: ["goal", "net", "sport"] },
        { emoji: "â›³", name: "flag in hole", keywords: ["golf", "sport"] },
        { emoji: "ðŸ¹", name: "bow and arrow", keywords: ["archery", "sport"] },
        { emoji: "ðŸŽ£", name: "fishing pole", keywords: ["fishing", "sport"] },
        { emoji: "ðŸ¥Š", name: "boxing glove", keywords: ["boxing", "sport", "fight"] },
        { emoji: "ðŸ¥‹", name: "martial arts uniform", keywords: ["karate", "martial arts", "sport"] },
        { emoji: "ðŸŽ¿", name: "skis", keywords: ["skiing", "winter", "sport"] },
        { emoji: "â›·ï¸", name: "skier", keywords: ["skiing", "winter", "sport"] },
        { emoji: "ðŸ‚", name: "snowboarder", keywords: ["snowboard", "winter", "sport"] },
        { emoji: "ðŸ„", name: "person surfing", keywords: ["surfing", "sport", "beach"] },
        { emoji: "ðŸŠ", name: "person swimming", keywords: ["swimming", "sport", "pool"] },
        { emoji: "ðŸš´", name: "person biking", keywords: ["biking", "cycling", "sport"] },
        { emoji: "ðŸƒ", name: "person running", keywords: ["running", "sport", "exercise"] },
        { emoji: "ðŸ§˜", name: "person in lotus position", keywords: ["yoga", "meditation", "zen"] },
        { emoji: "ðŸŽ®", name: "video game", keywords: ["game", "gaming", "controller", "play"] },
        { emoji: "ðŸ•¹ï¸", name: "joystick", keywords: ["game", "arcade", "gaming"] },
        { emoji: "ðŸŽ²", name: "game die", keywords: ["dice", "game", "luck"] },
        { emoji: "â™Ÿï¸", name: "chess pawn", keywords: ["chess", "game", "strategy"] },
        { emoji: "ðŸŽ¯", name: "direct hit", keywords: ["target", "bullseye", "dart"] },
        { emoji: "ðŸŽ°", name: "slot machine", keywords: ["casino", "gambling", "jackpot"] },

        // Objects & Symbols
        { emoji: "ðŸ’»", name: "laptop", keywords: ["computer", "laptop", "work", "code"] },
        { emoji: "ðŸ–¥ï¸", name: "desktop computer", keywords: ["computer", "desktop", "pc"] },
        { emoji: "âŒ¨ï¸", name: "keyboard", keywords: ["keyboard", "type", "computer"] },
        { emoji: "ðŸ–±ï¸", name: "computer mouse", keywords: ["mouse", "click", "computer"] },
        { emoji: "ðŸ“±", name: "mobile phone", keywords: ["phone", "mobile", "smartphone"] },
        { emoji: "ðŸ“ž", name: "telephone receiver", keywords: ["phone", "call"] },
        { emoji: "ðŸ’¡", name: "light bulb", keywords: ["idea", "light", "bulb"] },
        { emoji: "ðŸ”¦", name: "flashlight", keywords: ["light", "torch"] },
        { emoji: "ðŸ”Œ", name: "electric plug", keywords: ["plug", "electric", "power"] },
        { emoji: "ðŸ”‹", name: "battery", keywords: ["battery", "power", "energy"] },
        { emoji: "ðŸ“·", name: "camera", keywords: ["camera", "photo", "picture"] },
        { emoji: "ðŸŽ¥", name: "movie camera", keywords: ["camera", "movie", "film", "video"] },
        { emoji: "ðŸ“º", name: "television", keywords: ["tv", "television", "watch"] },
        { emoji: "ðŸŽ¬", name: "clapper board", keywords: ["movie", "film", "action"] },
        { emoji: "ðŸŽ¤", name: "microphone", keywords: ["mic", "sing", "karaoke"] },
        { emoji: "ðŸŽ§", name: "headphone", keywords: ["headphones", "music", "listen"] },
        { emoji: "ðŸŽµ", name: "musical note", keywords: ["music", "note", "sound"] },
        { emoji: "ðŸŽ¶", name: "musical notes", keywords: ["music", "notes", "sound"] },
        { emoji: "ðŸŽ¹", name: "musical keyboard", keywords: ["piano", "music", "keyboard"] },
        { emoji: "ðŸŽ¸", name: "guitar", keywords: ["guitar", "music", "rock"] },
        { emoji: "ðŸŽº", name: "trumpet", keywords: ["trumpet", "music", "jazz"] },
        { emoji: "ðŸŽ»", name: "violin", keywords: ["violin", "music", "classical"] },
        { emoji: "ðŸ¥", name: "drum", keywords: ["drum", "music", "percussion"] },
        { emoji: "ðŸ“š", name: "books", keywords: ["books", "read", "library", "study"] },
        { emoji: "ðŸ“–", name: "open book", keywords: ["book", "read", "study"] },
        { emoji: "ðŸ“", name: "memo", keywords: ["note", "write", "memo"] },
        { emoji: "âœï¸", name: "pencil", keywords: ["pencil", "write", "draw"] },
        { emoji: "ðŸ–Šï¸", name: "pen", keywords: ["pen", "write"] },
        { emoji: "ðŸ“Ž", name: "paperclip", keywords: ["paperclip", "office", "attach"] },
        { emoji: "ðŸ“Œ", name: "pushpin", keywords: ["pin", "location", "mark"] },
        { emoji: "ðŸ“", name: "file folder", keywords: ["folder", "file", "directory"] },
        { emoji: "ðŸ—‚ï¸", name: "card index dividers", keywords: ["files", "organize", "index"] },
        { emoji: "ðŸ“…", name: "calendar", keywords: ["calendar", "date", "schedule"] },
        { emoji: "ðŸ”", name: "magnifying glass tilted left", keywords: ["search", "find", "zoom"] },
        { emoji: "ðŸ”Ž", name: "magnifying glass tilted right", keywords: ["search", "find", "zoom"] },
        { emoji: "ðŸ”’", name: "locked", keywords: ["lock", "secure", "private"] },
        { emoji: "ðŸ”“", name: "unlocked", keywords: ["unlock", "open"] },
        { emoji: "ðŸ”‘", name: "key", keywords: ["key", "lock", "password"] },
        { emoji: "ðŸ””", name: "bell", keywords: ["bell", "notification", "alert"] },
        { emoji: "ðŸ”•", name: "bell with slash", keywords: ["mute", "silent", "quiet"] },
        { emoji: "ðŸ“§", name: "e-mail", keywords: ["email", "mail", "message"] },
        { emoji: "ðŸ’°", name: "money bag", keywords: ["money", "rich", "dollar"] },
        { emoji: "ðŸ’µ", name: "dollar banknote", keywords: ["money", "dollar", "cash"] },
        { emoji: "ðŸ’³", name: "credit card", keywords: ["card", "payment", "credit"] },
        { emoji: "â°", name: "alarm clock", keywords: ["clock", "alarm", "time", "wake"] },
        { emoji: "âŒš", name: "watch", keywords: ["watch", "time"] },
        { emoji: "â±ï¸", name: "stopwatch", keywords: ["timer", "stopwatch", "time"] },
        { emoji: "ðŸ§²", name: "magnet", keywords: ["magnet", "attract"] },
        { emoji: "ðŸ”§", name: "wrench", keywords: ["tool", "fix", "wrench"] },
        { emoji: "ðŸ”¨", name: "hammer", keywords: ["tool", "hammer", "build"] },
        { emoji: "ðŸ› ï¸", name: "hammer and wrench", keywords: ["tools", "fix", "settings"] },
        { emoji: "âš™ï¸", name: "gear", keywords: ["settings", "gear", "config"] },
        { emoji: "ðŸ’Ž", name: "gem stone", keywords: ["diamond", "gem", "jewel"] },
        { emoji: "ðŸŽ", name: "wrapped gift", keywords: ["gift", "present", "birthday"] },
        { emoji: "ðŸŽˆ", name: "balloon", keywords: ["balloon", "party", "birthday"] },
        { emoji: "ðŸŽ‰", name: "party popper", keywords: ["party", "celebration", "confetti"] },
        { emoji: "ðŸŽŠ", name: "confetti ball", keywords: ["party", "celebration", "confetti"] },

        // Symbols
        { emoji: "âœ…", name: "check mark button", keywords: ["check", "done", "yes", "complete"] },
        { emoji: "âŒ", name: "cross mark", keywords: ["no", "wrong", "delete", "remove"] },
        { emoji: "â“", name: "question mark", keywords: ["question", "help", "what"] },
        { emoji: "â—", name: "exclamation mark", keywords: ["exclamation", "important", "alert"] },
        { emoji: "âš ï¸", name: "warning", keywords: ["warning", "caution", "alert"] },
        { emoji: "ðŸš«", name: "prohibited", keywords: ["no", "forbidden", "stop"] },
        { emoji: "â­•", name: "hollow red circle", keywords: ["circle", "ring", "o"] },
        { emoji: "ðŸ”´", name: "red circle", keywords: ["red", "circle", "dot"] },
        { emoji: "ðŸŸ ", name: "orange circle", keywords: ["orange", "circle", "dot"] },
        { emoji: "ðŸŸ¡", name: "yellow circle", keywords: ["yellow", "circle", "dot"] },
        { emoji: "ðŸŸ¢", name: "green circle", keywords: ["green", "circle", "dot"] },
        { emoji: "ðŸ”µ", name: "blue circle", keywords: ["blue", "circle", "dot"] },
        { emoji: "ðŸŸ£", name: "purple circle", keywords: ["purple", "circle", "dot"] },
        { emoji: "âš«", name: "black circle", keywords: ["black", "circle", "dot"] },
        { emoji: "âšª", name: "white circle", keywords: ["white", "circle", "dot"] },
        { emoji: "ðŸ”º", name: "red triangle pointed up", keywords: ["triangle", "up", "red"] },
        { emoji: "ðŸ”»", name: "red triangle pointed down", keywords: ["triangle", "down", "red"] },
        { emoji: "ðŸ”¶", name: "large orange diamond", keywords: ["diamond", "orange"] },
        { emoji: "ðŸ”·", name: "large blue diamond", keywords: ["diamond", "blue"] },
        { emoji: "ðŸ’¯", name: "hundred points", keywords: ["100", "perfect", "score"] },
        { emoji: "ðŸ”¥", name: "fire", keywords: ["fire", "hot", "lit", "flame"] },
        { emoji: "âœ¨", name: "sparkles", keywords: ["sparkle", "shine", "magic", "stars"] },
        { emoji: "â­", name: "star", keywords: ["star", "favorite"] },
        { emoji: "ðŸŒŸ", name: "glowing star", keywords: ["star", "glow", "shine"] },
        { emoji: "ðŸ’«", name: "dizzy", keywords: ["star", "dizzy", "shooting"] },
        { emoji: "âš¡", name: "high voltage", keywords: ["lightning", "electric", "power", "fast"] },
        { emoji: "ðŸ’¥", name: "collision", keywords: ["boom", "explosion", "crash"] },
        { emoji: "ðŸŒˆ", name: "rainbow", keywords: ["rainbow", "colors", "pride"] },
        { emoji: "â˜€ï¸", name: "sun", keywords: ["sun", "sunny", "weather", "hot"] },
        { emoji: "ðŸŒ™", name: "crescent moon", keywords: ["moon", "night", "sleep"] },
        { emoji: "â›…", name: "sun behind cloud", keywords: ["weather", "cloudy", "partly"] },
        { emoji: "â˜ï¸", name: "cloud", keywords: ["cloud", "weather"] },
        { emoji: "ðŸŒ§ï¸", name: "cloud with rain", keywords: ["rain", "weather", "rainy"] },
        { emoji: "â›ˆï¸", name: "cloud with lightning and rain", keywords: ["storm", "thunder", "weather"] },
        { emoji: "â„ï¸", name: "snowflake", keywords: ["snow", "winter", "cold", "ice"] },
        { emoji: "ðŸŒŠ", name: "water wave", keywords: ["wave", "ocean", "sea", "water"] },
        { emoji: "ðŸ’§", name: "droplet", keywords: ["water", "drop", "tear"] },
        { emoji: "ðŸŒ", name: "globe showing Europe-Africa", keywords: ["earth", "world", "globe", "planet"] },
        { emoji: "ðŸŒŽ", name: "globe showing Americas", keywords: ["earth", "world", "globe", "planet"] },
        { emoji: "ðŸŒ", name: "globe showing Asia-Australia", keywords: ["earth", "world", "globe", "planet"] },
        { emoji: "ðŸš€", name: "rocket", keywords: ["rocket", "space", "launch", "fast"] },
        { emoji: "âœˆï¸", name: "airplane", keywords: ["plane", "travel", "flight"] },
        { emoji: "ðŸš—", name: "automobile", keywords: ["car", "vehicle", "drive"] },
        { emoji: "ðŸš•", name: "taxi", keywords: ["taxi", "cab", "car"] },
        { emoji: "ðŸšŒ", name: "bus", keywords: ["bus", "transport"] },
        { emoji: "ðŸš²", name: "bicycle", keywords: ["bike", "bicycle", "cycle"] },
        { emoji: "ðŸ ", name: "house", keywords: ["house", "home", "building"] },
        { emoji: "ðŸ¢", name: "office building", keywords: ["office", "building", "work"] },
        { emoji: "ðŸ¥", name: "hospital", keywords: ["hospital", "medical", "health"] },
        { emoji: "ðŸ«", name: "school", keywords: ["school", "education", "building"] },
        { emoji: "â¬†ï¸", name: "up arrow", keywords: ["up", "arrow", "north"] },
        { emoji: "â¬‡ï¸", name: "down arrow", keywords: ["down", "arrow", "south"] },
        { emoji: "â¬…ï¸", name: "left arrow", keywords: ["left", "arrow", "west"] },
        { emoji: "âž¡ï¸", name: "right arrow", keywords: ["right", "arrow", "east"] },
        { emoji: "â†©ï¸", name: "right arrow curving left", keywords: ["back", "return", "undo"] },
        { emoji: "â†ªï¸", name: "left arrow curving right", keywords: ["forward", "redo"] },
        { emoji: "ðŸ”„", name: "counterclockwise arrows button", keywords: ["refresh", "reload", "sync"] },
        { emoji: "âž•", name: "plus", keywords: ["plus", "add", "positive"] },
        { emoji: "âž–", name: "minus", keywords: ["minus", "subtract", "negative"] },
        { emoji: "âœ–ï¸", name: "multiply", keywords: ["multiply", "times", "x"] },
        { emoji: "âž—", name: "divide", keywords: ["divide", "division"] },
        { emoji: "â™¾ï¸", name: "infinity", keywords: ["infinity", "forever", "endless"] },
        { emoji: "ðŸ’²", name: "heavy dollar sign", keywords: ["dollar", "money", "price"] },
        { emoji: "Â©ï¸", name: "copyright", keywords: ["copyright", "legal"] },
        { emoji: "Â®ï¸", name: "registered", keywords: ["registered", "trademark"] },
        { emoji: "â„¢ï¸", name: "trade mark", keywords: ["trademark", "tm"] },
        { emoji: "ðŸ”—", name: "link", keywords: ["link", "chain", "url"] },
        { emoji: "â„¹ï¸", name: "information", keywords: ["info", "information", "help"] },
        { emoji: "ðŸ†•", name: "NEW button", keywords: ["new", "fresh"] },
        { emoji: "ðŸ†“", name: "FREE button", keywords: ["free", "gratis"] },
        { emoji: "ðŸ†—", name: "OK button", keywords: ["ok", "okay", "good"] },
        { emoji: "ðŸ†˜", name: "SOS button", keywords: ["sos", "help", "emergency"] }
    ]

    // Search emojis
    function search(query, isPrefixSearch) {
        let queryLower = query.toLowerCase().trim()

        // If no query and prefix search, show popular emojis
        if (!queryLower && isPrefixSearch) {
            return emojis.slice(0, maxResults).map(createResult)
        }

        if (!queryLower) return []

        // Filter by name or keywords
        let filtered = emojis.filter(e => {
            if (e.name.includes(queryLower)) return true
            return e.keywords.some(k => k.includes(queryLower))
        })

        // Sort by relevance (base score) + usage boost
        filtered.sort((a, b) => {
            let aStarts = a.name.startsWith(queryLower)
            let bStarts = b.name.startsWith(queryLower)

            // Base scores: name starts = 100, keyword starts = 70, else = 50
            let aBase = aStarts ? 100 : (a.keywords.some(k => k.startsWith(queryLower)) ? 70 : 50)
            let bBase = bStarts ? 100 : (b.keywords.some(k => k.startsWith(queryLower)) ? 70 : 50)

            // Apply usage boost
            let aBoost = Services.UsageStatsService.getBoostScore("emoji:" + a.emoji)
            let bBoost = Services.UsageStatsService.getBoostScore("emoji:" + b.emoji)

            let aTotal = aBase + aBoost
            let bTotal = bBase + bBoost

            if (aTotal !== bTotal) return bTotal - aTotal
            return a.name.localeCompare(b.name)
        })

        return filtered.slice(0, maxResults).map(createResult)
    }

    function createResult(e) {
        return {
            type: "emoji",
            emoji: e.emoji,
            title: e.name,
            data: e,
            action: function() {
                copyToClipboard(e.emoji)
            }
        }
    }

    // Copy to clipboard
    Process {
        id: copyProcess
        command: ["wl-copy", ""]
    }

    function copyToClipboard(text) {
        copyProcess.command = ["wl-copy", text]
        copyProcess.running = true
    }
}
